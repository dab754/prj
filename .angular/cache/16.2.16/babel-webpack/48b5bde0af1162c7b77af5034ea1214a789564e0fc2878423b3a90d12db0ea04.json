{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/loan.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = function (a0, a1, a2) {\n  return {\n    \"badge bg-warning\": a0,\n    \"badge bg-success\": a1,\n    \"badge bg-danger\": a2\n  };\n};\nconst _c1 = function (a1) {\n  return [\"/loans\", a1];\n};\nconst _c2 = function (a1) {\n  return [\"/loans\", a1, \"edit\"];\n};\nconst _c3 = function (a1) {\n  return [\"/loans\", a1, \"repay\"];\n};\nfunction LoanListComponent_tr_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\")(9, \"span\", 8);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵpipe(13, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"td\")(18, \"div\", 9)(19, \"button\", 10);\n    i0.ɵɵtext(20, \"View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"button\", 11);\n    i0.ɵɵtext(22, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"button\", 12);\n    i0.ɵɵtext(24, \"Repay\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const loan_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(loan_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind2(5, 10, loan_r1.amount, \"1.2-2\"), \"\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(loan_r1.purpose);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(17, _c0, loan_r1.status === \"PENDING\", loan_r1.status === \"APPROVED\", loan_r1.status === \"REJECTED\"));\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", loan_r1.status, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(13, 13, loan_r1.requestDate));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 15, loan_r1.dueDate));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(21, _c1, loan_r1.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(23, _c2, loan_r1.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(25, _c3, loan_r1.id));\n  }\n}\nexport class LoanListComponent {\n  constructor(loanService) {\n    this.loanService = loanService;\n    this.loans = [];\n    this.error = null;\n  }\n  ngOnInit() {\n    this.loadLoans();\n  }\n  loadLoans() {\n    this.loanService.getAllLoans().subscribe({\n      next: data => {\n        this.loans = data;\n      },\n      error: error => {\n        console.error('Error fetching loans:', error);\n        this.error = 'Failed to load loans. Please try again later.';\n      }\n    });\n  }\n  onDelete(id) {\n    if (confirm('Are you sure you want to delete this loan?')) {\n      this.loanService.deleteLoan(id).subscribe({\n        next: () => {\n          this.loans = this.loans.filter(loan => loan.id !== id);\n        },\n        error: error => {\n          console.error('Error deleting loan:', error);\n          this.error = 'Failed to delete loan. Please try again later.';\n        }\n      });\n    }\n  }\n  static {\n    this.ɵfac = function LoanListComponent_Factory(t) {\n      return new (t || LoanListComponent)(i0.ɵɵdirectiveInject(i1.LoanService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoanListComponent,\n      selectors: [[\"app-loan-list\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 28,\n      vars: 1,\n      consts: [[1, \"container\", \"mt-4\"], [1, \"d-flex\", \"justify-content-between\", \"align-items-center\", \"mb-4\"], [\"routerLink\", \"/loans/new\", 1, \"btn\", \"btn-primary\"], [1, \"card\"], [1, \"card-body\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngClass\"], [1, \"btn-group\"], [1, \"btn\", \"btn-sm\", \"btn-info\", 3, \"routerLink\"], [1, \"btn\", \"btn-sm\", \"btn-warning\", 3, \"routerLink\"], [1, \"btn\", \"btn-sm\", \"btn-success\", 3, \"routerLink\"]],\n      template: function LoanListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\");\n          i0.ɵɵtext(3, \"Loans\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"button\", 2);\n          i0.ɵɵtext(5, \"Create New Loan\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(6, \"div\", 3)(7, \"div\", 4)(8, \"div\", 5)(9, \"table\", 6)(10, \"thead\")(11, \"tr\")(12, \"th\");\n          i0.ɵɵtext(13, \"ID\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"th\");\n          i0.ɵɵtext(15, \"Amount\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"th\");\n          i0.ɵɵtext(17, \"Purpose\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"th\");\n          i0.ɵɵtext(19, \"Status\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"th\");\n          i0.ɵɵtext(21, \"Request Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"th\");\n          i0.ɵɵtext(23, \"Due Date\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"th\");\n          i0.ɵɵtext(25, \"Actions\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(26, \"tbody\");\n          i0.ɵɵtemplate(27, LoanListComponent_tr_27_Template, 25, 27, \"tr\", 7);\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(27);\n          i0.ɵɵproperty(\"ngForOf\", ctx.loans);\n        }\n      },\n      dependencies: [CommonModule, i2.NgClass, i2.NgForOf, i2.DecimalPipe, i2.DatePipe, RouterModule, i3.RouterLink],\n      styles: [\"\\n \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29tcG9uZW50cy9sb2FuLWxpc3QvbG9hbi1saXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEscUJBQXFCIiwic291cmNlc0NvbnRlbnQiOlsiLyogTG9hbiBsaXN0IHN0eWxlcyAqLyAiXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","RouterModule","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","loan_r1","id","ɵɵtextInterpolate1","ɵɵpipeBind2","amount","purpose","ɵɵproperty","ɵɵpureFunction3","_c0","status","ɵɵpipeBind1","requestDate","dueDate","ɵɵpureFunction1","_c1","_c2","_c3","LoanListComponent","constructor","loanService","loans","error","ngOnInit","loadLoans","getAllLoans","subscribe","next","data","console","onDelete","confirm","deleteLoan","filter","loan","ɵɵdirectiveInject","i1","LoanService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","LoanListComponent_Template","rf","ctx","ɵɵtemplate","LoanListComponent_tr_27_Template","i2","NgClass","NgForOf","DecimalPipe","DatePipe","i3","RouterLink","styles"],"sources":["G:\\Users\\DhiaEJ\\Desktop\\ValidPointedArchitects\\src\\app\\components\\loan-list\\loan-list.component.ts","G:\\Users\\DhiaEJ\\Desktop\\ValidPointedArchitects\\src\\app\\components\\loan-list\\loan-list.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { LoanService } from '../../services/loan.service';\nimport { Loan } from '../../models/loan.model';\n\n@Component({\n  selector: 'app-loan-list',\n  standalone: true,\n  imports: [CommonModule, RouterModule],\n  templateUrl: './loan-list.component.html',\n  styleUrls: ['./loan-list.component.css']\n})\nexport class LoanListComponent implements OnInit {\n  loans: Loan[] = [];\n  error: string | null = null;\n\n  constructor(private loanService: LoanService) {}\n\n  ngOnInit(): void {\n    this.loadLoans();\n  }\n\n  loadLoans(): void {\n    this.loanService.getAllLoans().subscribe({\n      next: (data) => {\n        this.loans = data;\n      },\n      error: (error) => {\n        console.error('Error fetching loans:', error);\n        this.error = 'Failed to load loans. Please try again later.';\n      }\n    });\n  }\n\n  onDelete(id: number): void {\n    if (confirm('Are you sure you want to delete this loan?')) {\n      this.loanService.deleteLoan(id).subscribe({\n        next: () => {\n          this.loans = this.loans.filter(loan => loan.id !== id);\n        },\n        error: (error) => {\n          console.error('Error deleting loan:', error);\n          this.error = 'Failed to delete loan. Please try again later.';\n        }\n      });\n    }\n  }\n}\n","<div class=\"container mt-4\">\n  <div class=\"d-flex justify-content-between align-items-center mb-4\">\n    <h2>Loans</h2>\n    <button class=\"btn btn-primary\" routerLink=\"/loans/new\">Create New Loan</button>\n  </div>\n\n  <div class=\"card\">\n    <div class=\"card-body\">\n      <div class=\"table-responsive\">\n        <table class=\"table table-striped\">\n          <thead>\n            <tr>\n              <th>ID</th>\n              <th>Amount</th>\n              <th>Purpose</th>\n              <th>Status</th>\n              <th>Request Date</th>\n              <th>Due Date</th>\n              <th>Actions</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr *ngFor=\"let loan of loans\">\n              <td>{{loan.id}}</td>\n              <td>${{loan.amount | number:'1.2-2'}}</td>\n              <td>{{loan.purpose}}</td>\n              <td>\n                <span [ngClass]=\"{\n                  'badge bg-warning': loan.status === 'PENDING',\n                  'badge bg-success': loan.status === 'APPROVED',\n                  'badge bg-danger': loan.status === 'REJECTED'\n                }\">\n                  {{loan.status}}\n                </span>\n              </td>\n              <td>{{loan.requestDate | date}}</td>\n              <td>{{loan.dueDate | date}}</td>\n              <td>\n                <div class=\"btn-group\">\n                  <button class=\"btn btn-sm btn-info\" [routerLink]=\"['/loans', loan.id]\">View</button>\n                  <button class=\"btn btn-sm btn-warning\" [routerLink]=\"['/loans', loan.id, 'edit']\">Edit</button>\n                  <button class=\"btn btn-sm btn-success\" [routerLink]=\"['/loans', loan.id, 'repay']\">Repay</button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}